<div class="test-details-wrapper" *ngIf="test">

  <h2>{{ test.name }}</h2>

  <!-- Test Info -->
  <div class="test-info">
    <p><strong>Total Marks:</strong> {{ test.totalMarks }}</p>
    <p><strong>Passing Marks:</strong> {{ test.passingMarks }}</p>
    <p><strong>Time / Question:</strong> {{ test.timePerQuestion }} sec</p>
  </div>

  <hr />

  <!-- Questions -->
  <div *ngIf="test.questions.length > 0">
    <h3>Added Questions</h3>

    <div class="question-box" *ngFor="let q of test.questions; let i = index">
      <p><strong>Q{{ i + 1 }}.</strong> {{ q.question }}</p>
      <ul>
        <li>A) {{ q.options.A }}</li>
        <li>B) {{ q.options.B }}</li>
        <li>C) {{ q.options.C }}</li>
        <li>D) {{ q.options.D }}</li>
      </ul>
      <p class="correct">Correct: {{ q.correct }}</p>
    </div>
  </div>

  <!-- Add New Question Button -->
  <button class="add-btn" (click)="openAddQuestion()">
    + Add New Question
  </button>

  <!-- Add Question Form -->
  <div class="add-form" *ngIf="showAddForm">
    <h3>Add Question</h3>

    <input type="text" placeholder="Question" [(ngModel)]="questionText" />
    <input type="text" placeholder="Option A" [(ngModel)]="optionA" />
    <input type="text" placeholder="Option B" [(ngModel)]="optionB" />
    <input type="text" placeholder="Option C" [(ngModel)]="optionC" />
    <input type="text" placeholder="Option D" [(ngModel)]="optionD" />

    <select [(ngModel)]="correctAnswer">
      <option value="">Correct Answer</option>
      <option value="A">A</option>
      <option value="B">B</option>
      <option value="C">C</option>
      <option value="D">D</option>
    </select>

    <button class="save-btn" (click)="addQuestion()">Add Question</button>
  </div>

</div>
